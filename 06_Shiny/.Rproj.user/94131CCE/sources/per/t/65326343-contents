
ui <- fluidPage(theme = shinytheme("flatly"),
titlePanel("Glucocorticoid receptor regulated gene expression in the mouse brain"),
navbarPage("Explore!",
           
           tabPanel(icon("home"),
                    fluidRow(column(tags$img(src="mousejavi_reversebrain.png",
                                             width="450px",height="320px"), 
                                    width=3),
                             column(
                               p(strong("Description of project (e.g. paper abstract)."), "Lorem ipsum dolor sit amet, 
                                 consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna 
                                 aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut 
                                 aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate 
                                 velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non 
                                 proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
                                 style="text-align:justify;color:black;background-color:#2980B9;padding:15px;border-radius:10px"),
                               br(),
                               p(strong("Data and code availability. Reference to paper."), "Sed ut perspiciatis unde omnis iste 
                                 natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae 
                                 ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim 
                                 ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni 
                                 dolores eos qui ratione voluptatem sequi nesciunt. Neque porro quisquam est, qui dolorem ipsum 
                                 quia dolor sit amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora incidunt 
                                 ut labore et dolore magnam aliquam quaerat voluptatem. Ut enim ad minima veniam, quis nostrum 
                                 exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? 
                                 Quis autem vel eum iure reprehenderit qui in ea voluptate velit esse quam nihil molestiae 
                                 consequatur, vel illum qui dolorem eum fugiat quo voluptas nulla pariatur?",
                                 style="text-align:justify;color:black;background-color:#AED6F1;padding:15px;border-radius:10px"),
                               width = 7
                             ),
                             column(
                               br(),
                               tags$img(src="mpilogo.png", width="250px", height="60px"),
                               br(),
                               br(),
                               p("For more information please visit the website of", em("the MPI of Psychiatry"),
                                 br(),
                                 a(href="https://www.psych.mpg.de/", "Here", target="_blank"),
                                 style="text-align:center;color:black"),
                               width=2
                             ))),
           
           navbarMenu("Diff. Gene Expression",
           tabPanel("Single Brain Region",
                    sidebarLayout(
                      sidebarPanel(
                        selectInput("region", "Choose a brain region:", 
                                    choices = c("Amygdala" = "AMY", 
                                                "Cerebellum" = "CER", 
                                                "Dorsal DG of Hippocampus" = "dDG", 
                                                "Dorsal CA1 of Hippocampus" = "dCA1", 
                                                "Prefrontal Cortex" = "PFC", 
                                                "PVN of Hypothalamus" = "PVN", 
                                                "Ventral DG of Hippocampus" = "vDG", 
                                                "Ventral CA1 of Hippocampus" = "vCA1")),
                        downloadButton("download1","Download (filtered) table as csv"),
                        width = 3
                      ),
                      mainPanel(
                        fluidPage(
                          br(),
                          tags$style(".fa-chart-bar {color:#2980B9}"),
                          h3(p(em("Differential Gene Expression "),icon("chart-bar",lib = "font-awesome"),style="color:black;text-align:center")),
                          hr(),
                          splitLayout(cellWidths = c("55%", "45%"),
                          plotlyOutput("volcano_plot"),
                          plotlyOutput("exp_plot")),
                          DT::dataTableOutput("de_table")
                        )
                      )
                    )
           ),
           tabPanel("Comparison Brain Regions",
                    # UI defined in upsetPlot module
                    upsetPlotUI("upsetDE")
           )
           ),
           
           navbarMenu(
             "Network Analysis",
             tabPanel(
               "Overview",
               sidebarPanel(
                 selectInput(
                   "overview_region",
                   "Choose a brain region:",
                   choices = c(
                     "Amygdala" = "AMY",
                     "Cerebellum" = "CER",
                     "Dorsal DG of Hippocampus" = "dDG",
                     "Dorsal CA1 of Hippocampus" = "dCA1",
                     "Prefrontal Cortex" = "PFC",
                     "PVN of Hypothalamus" = "PVN",
                     "Ventral DG of Hippocampus" = "vDG",
                     "Ventral CA1 of Hippocampus" = "vCA1"
                   )
                 ),
                 radioButtons(
                   "overview_metric",
                   label = "Select network metric:",
                   choices = list("Nodedegree" = "nodedegrees",
                                  "Nodebetweenness" = "nodebetweenness"),
                   selected = "nodebetweenness"
                 ),
                 radioButtons(
                   "overview_network",
                   label = "Select network:",
                   choices = list("Baseline" = "baseline",
                                  "Differential" = "differential"),
                   selected = "differential"
                 ),
                 width = 3
               ),
               mainPanel(
                 fluidPage(
                   br(),
                   tags$style(".fa-project-diagram {color:#2980B9}"),
                   h3(p(
                     em("Network analysis of gene expression: Overview "),
                     icon("project-diagram", lib = "font-awesome"),
                     style = "color:black;text-align:center"
                   )),
                   hr(),
                   splitLayout(cellWidths = c("50%", "50%"),
                               h4(
                                 p("Baseline network", style = "color:black;text-align:center")
                               ),
                               h4(
                                 p("Differential network", style = "color:black;text-align:center")
                               )),
                   # plotlyOutput("histogram_network")
                   splitLayout(
                     cellWidths = c("50%", "50%"),
                     plotlyOutput("histogram_network"),
                     plotlyOutput("barplot_network")
                   )
                   # DT::dataTableOutput("network_table")
                 )
               )
             ),
             
             tabPanel(
               "Network visualization",
               # UI from networkSingle module
               networkSingleUI("singleVisualization")
             ),
             
             tabPanel(
               "Multi-region network visualization",
               # UI from networkMulti module
               networkMultiUI("multiVisualization")
             )
           ), 
           
           
           navbarMenu("More",
                      tabPanel("Data download",
                               # DT::dataTableOutput("table")
                      ),
                      tabPanel("About",
                               # fluidRow(
                               #   column(6,
                               #          includeMarkdown("about.md")
                               #   ),
                               #   column(3,
                               #          img(class="img-polaroid",
                               #              src=paste0("http://upload.wikimedia.org/",
                               #                         "wikipedia/commons/9/92/",
                               #                         "1919_Ford_Model_T_Highboy_Coupe.jpg")),
                               #          tags$small(
                               #            "Source: Photographed at the Bay State Antique ",
                               #            "Automobile Club's July 10, 2005 show at the ",
                               #            "Endicott Estate in Dedham, MA by ",
                               #            a(href="http://commons.wikimedia.org/wiki/User:Sfoskett",
                               #              "User:Sfoskett")
                               #          )
                               #   )
                               # )
                      )
           )
)
)
